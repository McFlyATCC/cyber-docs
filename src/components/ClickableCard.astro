---
interface Card {
  title: string;
  description: string;
  icon?: string;
  href?: string;
  step?: number;
}

interface Props {
  cards: Card[];
  columns?: 2 | 3 | 4;
}

const { cards, columns = 3 } = Astro.props;

const gridCols = {
  2: 'md:grid-cols-2',
  3: 'md:grid-cols-3',
  4: 'md:grid-cols-4'
};
---

<div class={`grid gap-4 ${gridCols[columns]} my-6`}>
  {cards.map((card, index) => (
    <a 
      href={card.href || '#'}
      class="group relative block p-5 rounded-xl bg-sentinel-surface border border-gray-700 hover:border-sentinel-blue/50 transition-all hover:shadow-lg hover:shadow-sentinel-blue/5"
    >
      {card.step && (
        <div class="absolute -top-3 -left-3 w-7 h-7 rounded-full bg-sentinel-blue flex items-center justify-center text-xs font-bold text-white">
          {card.step}
        </div>
      )}
      
      {card.icon && (
        <div class="w-10 h-10 rounded-lg bg-sentinel-blue/10 flex items-center justify-center mb-3 group-hover:bg-sentinel-blue/20 transition-colors">
          <Fragment set:html={card.icon} />
        </div>
      )}
      
      <h4 class="font-display font-semibold text-white mb-2 group-hover:text-sentinel-blue transition-colors">
        {card.title}
      </h4>
      
      <p class="text-sm text-gray-400 leading-relaxed">
        {card.description}
      </p>
      
      {card.href && (
        <div class="mt-3 text-sentinel-blue text-sm flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity">
          Learn more
          <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M5 12h14"/>
            <path d="m12 5 7 7-7 7"/>
          </svg>
        </div>
      )}
    </a>
  ))}
</div>
